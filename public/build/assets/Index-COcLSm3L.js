import{c as r,a,u as l,h as _,w as v,b as e,t as i,j as C,v as M,o as n,F as b,r as B,d as m,k as S,s as z,x as D,p as h}from"./app-DF7YvfBq.js";import{_ as T}from"./AdminLayout-D3TzS4aE.js";import{S as c}from"./sweetalert2.esm.all-BQxta0Da.js";import{S as L}from"./search-DFG2MiCZ.js";import{c as u}from"./x-CnIRO9AU.js";import{T as j}from"./trash-2-DwjR6lKo.js";import{M as N}from"./message-square-DgMjLyQO.js";import"./layers-BzrXLVS_.js";import"./graduation-cap-CETaRmSF.js";import"./menu-C_MkkBhh.js";const R=u("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const V=u("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const q=u("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);const A=u("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),I={class:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-12"},F={class:"flex items-center gap-4 bg-slate-900/50 border border-slate-800 rounded-2xl px-6 py-3"},U={class:"flex flex-col items-end"},$={class:"text-xl font-black text-white"},P={class:"flex flex-col items-start"},E={class:"text-xl font-black text-amber-500"},H={class:"relative mb-8"},Q={key:0,class:"space-y-4"},W={class:"flex flex-col md:flex-row gap-6"},Y={class:"flex-shrink-0"},G={class:"w-16 h-16 rounded-2xl bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700/50 flex items-center justify-center text-2xl font-black text-white shadow-inner"},J={class:"flex-1 min-w-0"},K={class:"flex flex-col md:flex-row md:items-center justify-between gap-2 mb-3"},O={class:"text-lg font-bold text-white flex items-center gap-2"},X={key:0,class:"px-2 py-0.5 bg-emerald-500/10 text-emerald-500 border border-emerald-500/20 rounded text-[10px] font-black uppercase tracking-wider"},Z={key:1,class:"px-2 py-0.5 bg-amber-500/10 text-amber-500 border border-amber-500/20 rounded text-[10px] font-black uppercase tracking-wider"},ee={class:"flex flex-wrap items-center gap-4 mt-1 text-sm text-slate-500"},te={class:"flex items-center gap-1.5"},se={class:"flex items-center gap-1.5"},oe={class:"flex items-center gap-2"},ae=["onClick"],re=["onClick"],le={class:"bg-slate-950/40 border border-slate-800/50 rounded-xl p-4 mt-4 relative"},ne={class:"text-slate-300 leading-relaxed whitespace-pre-line"},ie={key:1,class:"flex flex-col items-center justify-center py-24 text-center"},de={class:"w-24 h-24 bg-slate-900 border border-slate-800 rounded-[2rem] flex items-center justify-center text-slate-700 mb-8"},ye={__name:"Index",props:{messages:Array},setup(x){const p=x,d=z(""),f=D(()=>{if(!d.value)return p.messages;const o=d.value.toLowerCase();return p.messages.filter(t=>t.name.toLowerCase().includes(o)||t.email.toLowerCase().includes(o)||t.message.toLowerCase().includes(o))}),g=o=>{c.fire({title:"Mark as Read?",text:"This will change status to Read and send a thank you email to the user.",icon:"info",showCancelButton:!0,background:"#0f172a",color:"#f8fafc",confirmButtonColor:"#3b82f6",cancelButtonColor:"#334155",confirmButtonText:"Yes, mark as read",customClass:{container:"font-sans",popup:"rounded-[2rem] border border-slate-800",title:"text-2xl font-black text-white",confirmButton:"px-6 py-2.5 rounded-xl font-bold uppercase tracking-widest text-xs",cancelButton:"px-6 py-2.5 rounded-xl font-bold uppercase tracking-widest text-xs"}}).then(t=>{t.isConfirmed&&h.post(route("admin.messages.read",o),{},{onSuccess:()=>{c.fire({title:"Success!",text:"Message marked as read and email sent.",icon:"success",background:"#0f172a",color:"#f8fafc",confirmButtonColor:"#0284c7",customClass:{popup:"rounded-[1.5rem] border border-slate-800"}})}})})},k=o=>{c.fire({title:"Delete Message?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,background:"#0f172a",color:"#f8fafc",confirmButtonColor:"#e11d48",cancelButtonColor:"#334155",confirmButtonText:"Delete",customClass:{container:"font-sans",popup:"rounded-[2rem] border border-slate-800",title:"text-2xl font-black text-white",confirmButton:"px-6 py-2.5 rounded-xl font-bold uppercase tracking-widest text-xs",cancelButton:"px-6 py-2.5 rounded-xl font-bold uppercase tracking-widest text-xs"}}).then(t=>{t.isConfirmed&&h.delete(route("admin.messages.destroy",o),{onSuccess:()=>{c.fire({title:"Deleted!",text:"Message has been removed.",icon:"success",background:"#0f172a",color:"#f8fafc",confirmButtonColor:"#0284c7",customClass:{popup:"rounded-[1.5rem] border border-slate-800"}})}})})},y=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return(o,t)=>(n(),r(b,null,[a(l(_),{title:"Messages"}),a(T,null,{default:v(()=>[e("div",I,[t[4]||(t[4]=e("div",null,[e("h1",{class:"text-3xl font-black text-white"},"Inbound Messages"),e("p",{class:"text-slate-400"},"Manage communication from your portfolio visitors.")],-1)),e("div",F,[e("div",U,[t[1]||(t[1]=e("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Total Messages",-1)),e("span",$,i(x.messages.length),1)]),t[3]||(t[3]=e("div",{class:"w-px h-8 bg-slate-800"},null,-1)),e("div",P,[t[2]||(t[2]=e("span",{class:"text-xs font-bold text-slate-500 uppercase tracking-widest"},"Pending",-1)),e("span",E,i(x.messages.filter(s=>s.status==="pending").length),1)])])]),e("div",H,[a(l(L),{class:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:20}),C(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),type:"text",placeholder:"Search by name, email or message content...",class:"w-full bg-slate-900/50 border border-slate-800 rounded-2xl pl-12 pr-6 py-4 text-white placeholder:text-slate-600 focus:outline-none focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500/50 transition-all font-medium"},null,512),[[M,d.value]])]),f.value.length>0?(n(),r("div",Q,[(n(!0),r(b,null,B(f.value,s=>(n(),r("div",{key:s.id,class:"group bg-slate-900/40 border border-slate-800 hover:border-slate-700 rounded-[1.5rem] p-6 transition-all duration-300"},[e("div",W,[e("div",Y,[e("div",G,i(s.name.charAt(0).toUpperCase()),1)]),e("div",J,[e("div",K,[e("div",null,[e("h3",O,[m(i(s.name)+" ",1),s.status==="read"?(n(),r("span",X,"Read")):(n(),r("span",Z,"Pending"))]),e("div",ee,[e("span",te,[a(l(A),{size:14,class:"text-slate-600"}),m(" "+i(s.email),1)]),e("span",se,[a(l(V),{size:14,class:"text-slate-600"}),m(" "+i(y(s.created_at)),1)])])]),e("div",oe,[s.status!=="read"?(n(),r("button",{key:0,onClick:w=>g(s.id),class:"p-3 bg-emerald-500/10 text-emerald-500 hover:bg-emerald-500 hover:text-white border border-emerald-500/20 rounded-xl transition-all",title:"Mark as Read"},[a(l(R),{size:18})],8,ae)):S("",!0),e("button",{onClick:w=>k(s.id),class:"p-3 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white border border-red-500/20 rounded-xl transition-all",title:"Delete Message"},[a(l(j),{size:18})],8,re)])]),e("div",le,[a(l(N),{size:16,class:"absolute -top-3 -left-2 text-slate-700 bg-slate-900 rounded-full"}),e("p",ne,i(s.message),1)])])])]))),128))])):(n(),r("div",ie,[e("div",de,[a(l(q),{size:48})]),t[5]||(t[5]=e("h2",{class:"text-2xl font-black text-white mb-2"},"No Messages Found",-1)),t[6]||(t[6]=e("p",{class:"text-slate-400 max-w-sm"},"When visitors reach out to you via the portfolio, their messages will appear here.",-1))]))]),_:1})],64))}};export{ye as default};
